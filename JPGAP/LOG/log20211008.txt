2021/10/08 18:23:34|WITH Z AS ( SELECT   K.KURACD AS KURACD        , TRIM(REPLACE(K.ACBCD,'　','')) AS ACBCD        , TRIM(REPLACE(H.JAS_NAME,'　','')) AS JAS_NAME        , K.KMCD1        , K.REACTION AS KBN        , COUNT(*) AS CNT FROM   T10_KEIHO K       ,HN2MAS H WHERE K.KURACD = H.CLI_CD AND K.ACBCD = H.HAN_CD AND K.REACTION='0' AND(      K.KMCD1='08'  OR( K.KMCD1='15' AND K.KMCD2='08') )AND    K.KMYMD BETWEEN :TRGDATE_FROM AND :TRGDATE_TO GROUP BY KURACD, ACBCD, JAS_NAME, KMCD1, REACTION UNION ALL SELECT   T.KURACD        , T.ACBCD        , H.JAS_NAME        , T.KMCD1        , DECODE(T.TMSKB,'1','M','2','S','?')        , COUNT(*) AS CNT FROM   D20_TAIOU T       ,HN2MAS H WHERE T.KURACD=H.CLI_CD AND T.ACBCD= H.HAN_CD AND((      T.TMSKB ='1' AND (T.KMCD1 ='08' OR (T.KMCD1='15' AND T.KMCD2='08'))      )   OR T.TMSKB ='2' AND  T.KMCD1='08'    ) AND    T.HATYMD BETWEEN :TRGDATE_FROM AND :TRGDATE_TO GROUP BY KURACD, ACBCD, JAS_NAME, KMCD1, TMSKB ORDER BY KURACD, ACBCD, JAS_NAME, KMCD1, KBN ) SELECT   Z.KURACD        , Z.KURACD || ':' || C.CLI_NAME AS KURADISP        , Z.ACBCD        , Z.ACBCD || ':' || Z.JAS_NAME AS JADISP        ,SUM(DECODE(KBN,'0',CNT,0)) AS C01        ,SUM(DECODE(KBN,'M',CNT,0)) AS C02        ,SUM(DECODE(KBN,'0',CNT,'M',CNT,0)) AS SUM1        ,SUM(DECODE(KBN,'S',CNT,0)) AS C03        ,SUM(CNT) AS SUMA FROM   Z LEFT JOIN CLIMAS C ON Z.KURACD = C.CLI_CD GROUP BY   Z.KURACD          , Z.ACBCD          , Z.JAS_NAME          , C.CLI_NAME UNION ALL SELECT     Z.KURACD        ,'' AS KURADISP        ,'' AS ACBCD        ,'小計' AS JADISP        ,SUM(DECODE(KBN,'0',CNT,0)) AS C01        ,SUM(DECODE(KBN,'M',CNT,0)) AS C02        ,SUM(DECODE(KBN,'0',CNT,'M',CNT,0)) AS SUM1        ,SUM(DECODE(KBN,'S',CNT,0)) AS C03        ,SUM(CNT) AS SUMA FROM Z GROUP BY KURACD UNION ALL SELECT    'XYZ'AS KURACD      ,'総合計' AS KURADISP      ,'' AS ACBCD      ,'' AS JADISP        ,SUM(DECODE(KBN,'0',CNT,0)) AS C01        ,SUM(DECODE(KBN,'M',CNT,0)) AS C02        ,SUM(DECODE(KBN,'0',CNT,'M',CNT,0)) AS SUM1        ,SUM(DECODE(KBN,'S',CNT,0)) AS C03        ,SUM(CNT) AS SUMA FROM Z ORDER BY KURACD,ACBCD 
2021/10/08 18:23:44|WITH Z AS ( SELECT   K.KURACD AS KURACD        , TRIM(REPLACE(K.ACBCD,'　','')) AS ACBCD        , TRIM(REPLACE(H.JAS_NAME,'　','')) AS JAS_NAME        , K.KMCD1        , K.REACTION AS KBN        , COUNT(*) AS CNT FROM   T10_KEIHO K       ,HN2MAS H WHERE K.KURACD = H.CLI_CD AND K.ACBCD = H.HAN_CD AND K.REACTION='0' AND(      K.KMCD1='08'  OR( K.KMCD1='15' AND K.KMCD2='08') )AND    K.KMYMD BETWEEN :TRGDATE_FROM AND :TRGDATE_TO GROUP BY KURACD, ACBCD, JAS_NAME, KMCD1, REACTION UNION ALL SELECT   T.KURACD        , T.ACBCD        , H.JAS_NAME        , T.KMCD1        , DECODE(T.TMSKB,'1','M','2','S','?')        , COUNT(*) AS CNT FROM   D20_TAIOU T       ,HN2MAS H WHERE T.KURACD=H.CLI_CD AND T.ACBCD= H.HAN_CD AND((      T.TMSKB ='1' AND (T.KMCD1 ='08' OR (T.KMCD1='15' AND T.KMCD2='08'))      )   OR T.TMSKB ='2' AND  T.KMCD1='08'    ) AND    T.HATYMD BETWEEN :TRGDATE_FROM AND :TRGDATE_TO GROUP BY KURACD, ACBCD, JAS_NAME, KMCD1, TMSKB ORDER BY KURACD, ACBCD, JAS_NAME, KMCD1, KBN ) SELECT   Z.KURACD        , Z.KURACD || ':' || C.CLI_NAME AS KURADISP        , Z.ACBCD        , Z.ACBCD || ':' || Z.JAS_NAME AS JADISP        ,SUM(DECODE(KBN,'0',CNT,0)) AS C01        ,SUM(DECODE(KBN,'M',CNT,0)) AS C02        ,SUM(DECODE(KBN,'0',CNT,'M',CNT,0)) AS SUM1        ,SUM(DECODE(KBN,'S',CNT,0)) AS C03        ,SUM(CNT) AS SUMA FROM   Z LEFT JOIN CLIMAS C ON Z.KURACD = C.CLI_CD GROUP BY   Z.KURACD          , Z.ACBCD          , Z.JAS_NAME          , C.CLI_NAME UNION ALL SELECT     Z.KURACD        ,'' AS KURADISP        ,'' AS ACBCD        ,'小計' AS JADISP        ,SUM(DECODE(KBN,'0',CNT,0)) AS C01        ,SUM(DECODE(KBN,'M',CNT,0)) AS C02        ,SUM(DECODE(KBN,'0',CNT,'M',CNT,0)) AS SUM1        ,SUM(DECODE(KBN,'S',CNT,0)) AS C03        ,SUM(CNT) AS SUMA FROM Z GROUP BY KURACD UNION ALL SELECT    'XYZ'AS KURACD      ,'総合計' AS KURADISP      ,'' AS ACBCD      ,'' AS JADISP        ,SUM(DECODE(KBN,'0',CNT,0)) AS C01        ,SUM(DECODE(KBN,'M',CNT,0)) AS C02        ,SUM(DECODE(KBN,'0',CNT,'M',CNT,0)) AS SUM1        ,SUM(DECODE(KBN,'S',CNT,0)) AS C03        ,SUM(CNT) AS SUMA FROM Z ORDER BY KURACD,ACBCD 
2021/10/08 20:13:49|WITH Z AS ( SELECT KURACD        , JACD        , TRIM(REPLACE(JANM,'　','')) AS JANM        , HATKBN        , TAIOKBN        , TMSKB        , COUNT(*) AS CNT FROM   D20_TAIOU WHERE  1 = 1 AND    HATYMD BETWEEN :TRGDATE_FROM AND :TRGDATE_TO GROUP BY KURACD, JACD, TRIM(REPLACE(JANM,'　','')), HATKBN, TAIOKBN, TMSKB ORDER BY KURACD, JACD, HATKBN, TAIOKBN, TMSKB ) SELECT Z.KURACD        , Z.KURACD || ':' || C.CLI_NAME AS KURADISP        , Z.JACD        , Z.JACD || ':' || Z.JANM AS JADISP        , SUM(DECODE(HATKBN || TAIOKBN || TMSKB,'122',CNT,0)) AS C01        , SUM(DECODE(HATKBN || TAIOKBN || TMSKB,'112',CNT,0)) AS C02        , SUM(DECODE(HATKBN || TAIOKBN || TMSKB,'111',CNT,0)) AS C03        , SUM(DECODE(HATKBN,'1',CNT,0)) AS SUM1        , SUM(DECODE(HATKBN || TAIOKBN || TMSKB,'222',CNT,0)) AS C04        , SUM(DECODE(HATKBN || TAIOKBN || TMSKB,'212',CNT,0)) AS C05        , SUM(DECODE(HATKBN || TAIOKBN || TMSKB,'211',CNT,0)) AS C06        , SUM(DECODE(HATKBN,'2',CNT,0)) AS SUM2        , SUM(CNT) AS SUMA FROM   Z LEFT JOIN CLIMAS C ON Z.KURACD = C.CLI_CD GROUP BY Z.KURACD          , Z.JACD          , Z.JANM          , C.CLI_NAME UNION ALL SELECT Z.KURACD        , '' AS KURADISP        , '' AS JACD        , '小計' AS JADISP        , SUM(DECODE(HATKBN || TAIOKBN || TMSKB,'122',CNT,0)) AS C01        , SUM(DECODE(HATKBN || TAIOKBN || TMSKB,'112',CNT,0)) AS C02        , SUM(DECODE(HATKBN || TAIOKBN || TMSKB,'111',CNT,0)) AS C03        , SUM(DECODE(HATKBN,'1',CNT,0)) AS SUM1        , SUM(DECODE(HATKBN || TAIOKBN || TMSKB,'222',CNT,0)) AS C04        , SUM(DECODE(HATKBN || TAIOKBN || TMSKB,'212',CNT,0)) AS C05        , SUM(DECODE(HATKBN || TAIOKBN || TMSKB,'211',CNT,0)) AS C06        , SUM(DECODE(HATKBN,'2',CNT,0)) AS SUM2        , SUM(CNT) AS SUMA FROM   Z GROUP BY KURACD UNION ALL SELECT 'XYZ' AS KURACD        , '総合計' AS KURADISP        , '' AS JACD        , '' AS JADISP        , SUM(DECODE(HATKBN || TAIOKBN || TMSKB,'122',CNT,0)) AS C01        , SUM(DECODE(HATKBN || TAIOKBN || TMSKB,'112',CNT,0)) AS C02        , SUM(DECODE(HATKBN || TAIOKBN || TMSKB,'111',CNT,0)) AS C03        , SUM(DECODE(HATKBN,'1',CNT,0)) AS SUM1        , SUM(DECODE(HATKBN || TAIOKBN || TMSKB,'222',CNT,0)) AS C04        , SUM(DECODE(HATKBN || TAIOKBN || TMSKB,'212',CNT,0)) AS C05        , SUM(DECODE(HATKBN || TAIOKBN || TMSKB,'211',CNT,0)) AS C06        , SUM(DECODE(HATKBN,'2',CNT,0)) AS SUM2        , SUM(CNT) AS SUMA FROM   Z ORDER BY KURACD, JACD 
2021/10/08 20:13:59|WITH Z AS ( SELECT KURACD        , JACD        , TRIM(REPLACE(JANM,'　','')) AS JANM        , HATKBN        , TAIOKBN        , TMSKB        , COUNT(*) AS CNT FROM   D20_TAIOU WHERE  1 = 1 AND    HATYMD BETWEEN :TRGDATE_FROM AND :TRGDATE_TO GROUP BY KURACD, JACD, TRIM(REPLACE(JANM,'　','')), HATKBN, TAIOKBN, TMSKB ORDER BY KURACD, JACD, HATKBN, TAIOKBN, TMSKB ) SELECT Z.KURACD        , Z.KURACD || ':' || C.CLI_NAME AS KURADISP        , Z.JACD        , Z.JACD || ':' || Z.JANM AS JADISP        , SUM(DECODE(HATKBN || TAIOKBN || TMSKB,'122',CNT,0)) AS C01        , SUM(DECODE(HATKBN || TAIOKBN || TMSKB,'112',CNT,0)) AS C02        , SUM(DECODE(HATKBN || TAIOKBN || TMSKB,'111',CNT,0)) AS C03        , SUM(DECODE(HATKBN,'1',CNT,0)) AS SUM1        , SUM(DECODE(HATKBN || TAIOKBN || TMSKB,'222',CNT,0)) AS C04        , SUM(DECODE(HATKBN || TAIOKBN || TMSKB,'212',CNT,0)) AS C05        , SUM(DECODE(HATKBN || TAIOKBN || TMSKB,'211',CNT,0)) AS C06        , SUM(DECODE(HATKBN,'2',CNT,0)) AS SUM2        , SUM(CNT) AS SUMA FROM   Z LEFT JOIN CLIMAS C ON Z.KURACD = C.CLI_CD GROUP BY Z.KURACD          , Z.JACD          , Z.JANM          , C.CLI_NAME UNION ALL SELECT Z.KURACD        , '' AS KURADISP        , '' AS JACD        , '小計' AS JADISP        , SUM(DECODE(HATKBN || TAIOKBN || TMSKB,'122',CNT,0)) AS C01        , SUM(DECODE(HATKBN || TAIOKBN || TMSKB,'112',CNT,0)) AS C02        , SUM(DECODE(HATKBN || TAIOKBN || TMSKB,'111',CNT,0)) AS C03        , SUM(DECODE(HATKBN,'1',CNT,0)) AS SUM1        , SUM(DECODE(HATKBN || TAIOKBN || TMSKB,'222',CNT,0)) AS C04        , SUM(DECODE(HATKBN || TAIOKBN || TMSKB,'212',CNT,0)) AS C05        , SUM(DECODE(HATKBN || TAIOKBN || TMSKB,'211',CNT,0)) AS C06        , SUM(DECODE(HATKBN,'2',CNT,0)) AS SUM2        , SUM(CNT) AS SUMA FROM   Z GROUP BY KURACD UNION ALL SELECT 'XYZ' AS KURACD        , '総合計' AS KURADISP        , '' AS JACD        , '' AS JADISP        , SUM(DECODE(HATKBN || TAIOKBN || TMSKB,'122',CNT,0)) AS C01        , SUM(DECODE(HATKBN || TAIOKBN || TMSKB,'112',CNT,0)) AS C02        , SUM(DECODE(HATKBN || TAIOKBN || TMSKB,'111',CNT,0)) AS C03        , SUM(DECODE(HATKBN,'1',CNT,0)) AS SUM1        , SUM(DECODE(HATKBN || TAIOKBN || TMSKB,'222',CNT,0)) AS C04        , SUM(DECODE(HATKBN || TAIOKBN || TMSKB,'212',CNT,0)) AS C05        , SUM(DECODE(HATKBN || TAIOKBN || TMSKB,'211',CNT,0)) AS C06        , SUM(DECODE(HATKBN,'2',CNT,0)) AS SUM2        , SUM(CNT) AS SUMA FROM   Z ORDER BY KURACD, JACD 
2021/10/08 20:30:55|WITH Z AS ( SELECT KURACD        , JACD        , TRIM(REPLACE(JANM,'　','')) AS JANM        , HATKBN        , TAIOKBN        , COUNT(*) AS CNT FROM   D20_TAIOU WHERE  1 = 1 AND    SYOYMD BETWEEN :TRGDATE_FROM AND :TRGDATE_TO AND    (TAIOKBN = :TAIOKBN1 OR TAIOKBN = :TAIOKBN2 )  AND TSADCD = :TSADCD GROUP BY KURACD, JACD, TRIM(REPLACE(JANM,'　','')), HATKBN, TAIOKBN ORDER BY KURACD, JACD, HATKBN, TAIOKBN ) SELECT Z.KURACD        , Z.KURACD || ':' || C.CLI_NAME AS KURADISP        , Z.JACD        , Z.JACD || ':' || Z.JANM AS JADISP        , SUM(DECODE(HATKBN || TAIOKBN,'12',CNT,0)) AS C01        , SUM(DECODE(HATKBN || TAIOKBN,'11',CNT,0)) AS C02        , SUM(DECODE(HATKBN,'1',CNT,0)) AS SUM1        , SUM(DECODE(HATKBN || TAIOKBN,'22',CNT,0)) AS C04        , SUM(DECODE(HATKBN || TAIOKBN,'21',CNT,0)) AS C05        , SUM(DECODE(HATKBN,'2',CNT,0)) AS SUM2        , SUM(CNT) AS SUMA FROM   Z LEFT JOIN CLIMAS C ON Z.KURACD = C.CLI_CD GROUP BY Z.KURACD          , Z.JACD          , Z.JANM          , C.CLI_NAME UNION ALL SELECT Z.KURACD        , '' AS KURADISP        , '' AS JACD        , '小計' AS JADISP        , SUM(DECODE(HATKBN || TAIOKBN,'12',CNT,0)) AS C01        , SUM(DECODE(HATKBN || TAIOKBN,'11',CNT,0)) AS C02        , SUM(DECODE(HATKBN,'1',CNT,0)) AS SUM1        , SUM(DECODE(HATKBN || TAIOKBN,'22',CNT,0)) AS C04        , SUM(DECODE(HATKBN || TAIOKBN,'21',CNT,0)) AS C05        , SUM(DECODE(HATKBN,'2',CNT,0)) AS SUM2        , SUM(CNT) AS SUMA FROM   Z GROUP BY KURACD UNION ALL SELECT 'XYZ' AS KURACD        , '総合計' AS KURADISP        , '' AS JACD        , '' AS JADISP        , SUM(DECODE(HATKBN || TAIOKBN,'12',CNT,0)) AS C01        , SUM(DECODE(HATKBN || TAIOKBN,'11',CNT,0)) AS C02        , SUM(DECODE(HATKBN,'1',CNT,0)) AS SUM1        , SUM(DECODE(HATKBN || TAIOKBN,'22',CNT,0)) AS C04        , SUM(DECODE(HATKBN || TAIOKBN,'21',CNT,0)) AS C05        , SUM(DECODE(HATKBN,'2',CNT,0)) AS SUM2        , SUM(CNT) AS SUMA FROM   Z ORDER BY KURACD, JACD 
2021/10/08 20:31:04|WITH Z AS ( SELECT KURACD        , JACD        , TRIM(REPLACE(JANM,'　','')) AS JANM        , HATKBN        , TAIOKBN        , COUNT(*) AS CNT FROM   D20_TAIOU WHERE  1 = 1 AND    SYOYMD BETWEEN :TRGDATE_FROM AND :TRGDATE_TO AND    (TAIOKBN = :TAIOKBN1 OR TAIOKBN = :TAIOKBN2 )  AND TSADCD = :TSADCD GROUP BY KURACD, JACD, TRIM(REPLACE(JANM,'　','')), HATKBN, TAIOKBN ORDER BY KURACD, JACD, HATKBN, TAIOKBN ) SELECT Z.KURACD        , Z.KURACD || ':' || C.CLI_NAME AS KURADISP        , Z.JACD        , Z.JACD || ':' || Z.JANM AS JADISP        , SUM(DECODE(HATKBN || TAIOKBN,'12',CNT,0)) AS C01        , SUM(DECODE(HATKBN || TAIOKBN,'11',CNT,0)) AS C02        , SUM(DECODE(HATKBN,'1',CNT,0)) AS SUM1        , SUM(DECODE(HATKBN || TAIOKBN,'22',CNT,0)) AS C04        , SUM(DECODE(HATKBN || TAIOKBN,'21',CNT,0)) AS C05        , SUM(DECODE(HATKBN,'2',CNT,0)) AS SUM2        , SUM(CNT) AS SUMA FROM   Z LEFT JOIN CLIMAS C ON Z.KURACD = C.CLI_CD GROUP BY Z.KURACD          , Z.JACD          , Z.JANM          , C.CLI_NAME UNION ALL SELECT Z.KURACD        , '' AS KURADISP        , '' AS JACD        , '小計' AS JADISP        , SUM(DECODE(HATKBN || TAIOKBN,'12',CNT,0)) AS C01        , SUM(DECODE(HATKBN || TAIOKBN,'11',CNT,0)) AS C02        , SUM(DECODE(HATKBN,'1',CNT,0)) AS SUM1        , SUM(DECODE(HATKBN || TAIOKBN,'22',CNT,0)) AS C04        , SUM(DECODE(HATKBN || TAIOKBN,'21',CNT,0)) AS C05        , SUM(DECODE(HATKBN,'2',CNT,0)) AS SUM2        , SUM(CNT) AS SUMA FROM   Z GROUP BY KURACD UNION ALL SELECT 'XYZ' AS KURACD        , '総合計' AS KURADISP        , '' AS JACD        , '' AS JADISP        , SUM(DECODE(HATKBN || TAIOKBN,'12',CNT,0)) AS C01        , SUM(DECODE(HATKBN || TAIOKBN,'11',CNT,0)) AS C02        , SUM(DECODE(HATKBN,'1',CNT,0)) AS SUM1        , SUM(DECODE(HATKBN || TAIOKBN,'22',CNT,0)) AS C04        , SUM(DECODE(HATKBN || TAIOKBN,'21',CNT,0)) AS C05        , SUM(DECODE(HATKBN,'2',CNT,0)) AS SUM2        , SUM(CNT) AS SUMA FROM   Z ORDER BY KURACD, JACD 
2021/10/08 20:31:34|WITH Z AS ( SELECT KURACD        , JACD        , TRIM(REPLACE(JANM,'　','')) AS JANM        , HATKBN        , TAIOKBN        , COUNT(*) AS CNT FROM   D20_TAIOU WHERE  1 = 1 AND    SYOYMD BETWEEN :TRGDATE_FROM AND :TRGDATE_TO AND    (TAIOKBN = :TAIOKBN1 OR TAIOKBN = :TAIOKBN2 )  AND TSADCD = :TSADCD GROUP BY KURACD, JACD, TRIM(REPLACE(JANM,'　','')), HATKBN, TAIOKBN ORDER BY KURACD, JACD, HATKBN, TAIOKBN ) SELECT Z.KURACD        , Z.KURACD || ':' || C.CLI_NAME AS KURADISP        , Z.JACD        , Z.JACD || ':' || Z.JANM AS JADISP        , SUM(DECODE(HATKBN || TAIOKBN,'12',CNT,0)) AS C01        , SUM(DECODE(HATKBN || TAIOKBN,'11',CNT,0)) AS C02        , SUM(DECODE(HATKBN,'1',CNT,0)) AS SUM1        , SUM(DECODE(HATKBN || TAIOKBN,'22',CNT,0)) AS C04        , SUM(DECODE(HATKBN || TAIOKBN,'21',CNT,0)) AS C05        , SUM(DECODE(HATKBN,'2',CNT,0)) AS SUM2        , SUM(CNT) AS SUMA FROM   Z LEFT JOIN CLIMAS C ON Z.KURACD = C.CLI_CD GROUP BY Z.KURACD          , Z.JACD          , Z.JANM          , C.CLI_NAME UNION ALL SELECT Z.KURACD        , '' AS KURADISP        , '' AS JACD        , '小計' AS JADISP        , SUM(DECODE(HATKBN || TAIOKBN,'12',CNT,0)) AS C01        , SUM(DECODE(HATKBN || TAIOKBN,'11',CNT,0)) AS C02        , SUM(DECODE(HATKBN,'1',CNT,0)) AS SUM1        , SUM(DECODE(HATKBN || TAIOKBN,'22',CNT,0)) AS C04        , SUM(DECODE(HATKBN || TAIOKBN,'21',CNT,0)) AS C05        , SUM(DECODE(HATKBN,'2',CNT,0)) AS SUM2        , SUM(CNT) AS SUMA FROM   Z GROUP BY KURACD UNION ALL SELECT 'XYZ' AS KURACD        , '総合計' AS KURADISP        , '' AS JACD        , '' AS JADISP        , SUM(DECODE(HATKBN || TAIOKBN,'12',CNT,0)) AS C01        , SUM(DECODE(HATKBN || TAIOKBN,'11',CNT,0)) AS C02        , SUM(DECODE(HATKBN,'1',CNT,0)) AS SUM1        , SUM(DECODE(HATKBN || TAIOKBN,'22',CNT,0)) AS C04        , SUM(DECODE(HATKBN || TAIOKBN,'21',CNT,0)) AS C05        , SUM(DECODE(HATKBN,'2',CNT,0)) AS SUM2        , SUM(CNT) AS SUMA FROM   Z ORDER BY KURACD, JACD 
2021/10/08 20:33:14|WITH Z AS ( SELECT KURACD        , JACD        , TRIM(REPLACE(JANM,'　','')) AS JANM        , HATKBN        , TAIOKBN        , TMSKB        , COUNT(*) AS CNT FROM   D20_TAIOU WHERE  1 = 1 AND    HATYMD BETWEEN :TRGDATE_FROM AND :TRGDATE_TO GROUP BY KURACD, JACD, TRIM(REPLACE(JANM,'　','')), HATKBN, TAIOKBN, TMSKB ORDER BY KURACD, JACD, HATKBN, TAIOKBN, TMSKB ) SELECT Z.KURACD        , Z.KURACD || ':' || C.CLI_NAME AS KURADISP        , Z.JACD        , Z.JACD || ':' || Z.JANM AS JADISP        , SUM(DECODE(HATKBN || TAIOKBN || TMSKB,'122',CNT,0)) AS C01        , SUM(DECODE(HATKBN || TAIOKBN || TMSKB,'112',CNT,0)) AS C02        , SUM(DECODE(HATKBN || TAIOKBN || TMSKB,'111',CNT,0)) AS C03        , SUM(DECODE(HATKBN,'1',CNT,0)) AS SUM1        , SUM(DECODE(HATKBN || TAIOKBN || TMSKB,'222',CNT,0)) AS C04        , SUM(DECODE(HATKBN || TAIOKBN || TMSKB,'212',CNT,0)) AS C05        , SUM(DECODE(HATKBN || TAIOKBN || TMSKB,'211',CNT,0)) AS C06        , SUM(DECODE(HATKBN,'2',CNT,0)) AS SUM2        , SUM(CNT) AS SUMA FROM   Z LEFT JOIN CLIMAS C ON Z.KURACD = C.CLI_CD GROUP BY Z.KURACD          , Z.JACD          , Z.JANM          , C.CLI_NAME UNION ALL SELECT Z.KURACD        , '' AS KURADISP        , '' AS JACD        , '小計' AS JADISP        , SUM(DECODE(HATKBN || TAIOKBN || TMSKB,'122',CNT,0)) AS C01        , SUM(DECODE(HATKBN || TAIOKBN || TMSKB,'112',CNT,0)) AS C02        , SUM(DECODE(HATKBN || TAIOKBN || TMSKB,'111',CNT,0)) AS C03        , SUM(DECODE(HATKBN,'1',CNT,0)) AS SUM1        , SUM(DECODE(HATKBN || TAIOKBN || TMSKB,'222',CNT,0)) AS C04        , SUM(DECODE(HATKBN || TAIOKBN || TMSKB,'212',CNT,0)) AS C05        , SUM(DECODE(HATKBN || TAIOKBN || TMSKB,'211',CNT,0)) AS C06        , SUM(DECODE(HATKBN,'2',CNT,0)) AS SUM2        , SUM(CNT) AS SUMA FROM   Z GROUP BY KURACD UNION ALL SELECT 'XYZ' AS KURACD        , '総合計' AS KURADISP        , '' AS JACD        , '' AS JADISP        , SUM(DECODE(HATKBN || TAIOKBN || TMSKB,'122',CNT,0)) AS C01        , SUM(DECODE(HATKBN || TAIOKBN || TMSKB,'112',CNT,0)) AS C02        , SUM(DECODE(HATKBN || TAIOKBN || TMSKB,'111',CNT,0)) AS C03        , SUM(DECODE(HATKBN,'1',CNT,0)) AS SUM1        , SUM(DECODE(HATKBN || TAIOKBN || TMSKB,'222',CNT,0)) AS C04        , SUM(DECODE(HATKBN || TAIOKBN || TMSKB,'212',CNT,0)) AS C05        , SUM(DECODE(HATKBN || TAIOKBN || TMSKB,'211',CNT,0)) AS C06        , SUM(DECODE(HATKBN,'2',CNT,0)) AS SUM2        , SUM(CNT) AS SUMA FROM   Z ORDER BY KURACD, JACD 
2021/10/08 20:34:09|WITH Z AS ( SELECT KURACD        , JACD        , TRIM(REPLACE(JANM,'　','')) AS JANM        , HATKBN        , TAIOKBN        , COUNT(*) AS CNT FROM   D20_TAIOU WHERE  1 = 1 AND    SYOYMD BETWEEN :TRGDATE_FROM AND :TRGDATE_TO AND    (TAIOKBN = :TAIOKBN1 OR TAIOKBN = :TAIOKBN2 )  AND TSADCD = :TSADCD GROUP BY KURACD, JACD, TRIM(REPLACE(JANM,'　','')), HATKBN, TAIOKBN ORDER BY KURACD, JACD, HATKBN, TAIOKBN ) SELECT Z.KURACD        , Z.KURACD || ':' || C.CLI_NAME AS KURADISP        , Z.JACD        , Z.JACD || ':' || Z.JANM AS JADISP        , SUM(DECODE(HATKBN || TAIOKBN,'12',CNT,0)) AS C01        , SUM(DECODE(HATKBN || TAIOKBN,'11',CNT,0)) AS C02        , SUM(DECODE(HATKBN,'1',CNT,0)) AS SUM1        , SUM(DECODE(HATKBN || TAIOKBN,'22',CNT,0)) AS C04        , SUM(DECODE(HATKBN || TAIOKBN,'21',CNT,0)) AS C05        , SUM(DECODE(HATKBN,'2',CNT,0)) AS SUM2        , SUM(CNT) AS SUMA FROM   Z LEFT JOIN CLIMAS C ON Z.KURACD = C.CLI_CD GROUP BY Z.KURACD          , Z.JACD          , Z.JANM          , C.CLI_NAME UNION ALL SELECT Z.KURACD        , '' AS KURADISP        , '' AS JACD        , '小計' AS JADISP        , SUM(DECODE(HATKBN || TAIOKBN,'12',CNT,0)) AS C01        , SUM(DECODE(HATKBN || TAIOKBN,'11',CNT,0)) AS C02        , SUM(DECODE(HATKBN,'1',CNT,0)) AS SUM1        , SUM(DECODE(HATKBN || TAIOKBN,'22',CNT,0)) AS C04        , SUM(DECODE(HATKBN || TAIOKBN,'21',CNT,0)) AS C05        , SUM(DECODE(HATKBN,'2',CNT,0)) AS SUM2        , SUM(CNT) AS SUMA FROM   Z GROUP BY KURACD UNION ALL SELECT 'XYZ' AS KURACD        , '総合計' AS KURADISP        , '' AS JACD        , '' AS JADISP        , SUM(DECODE(HATKBN || TAIOKBN,'12',CNT,0)) AS C01        , SUM(DECODE(HATKBN || TAIOKBN,'11',CNT,0)) AS C02        , SUM(DECODE(HATKBN,'1',CNT,0)) AS SUM1        , SUM(DECODE(HATKBN || TAIOKBN,'22',CNT,0)) AS C04        , SUM(DECODE(HATKBN || TAIOKBN,'21',CNT,0)) AS C05        , SUM(DECODE(HATKBN,'2',CNT,0)) AS SUM2        , SUM(CNT) AS SUMA FROM   Z ORDER BY KURACD, JACD 
2021/10/08 20:36:35|WITH Z AS ( SELECT KURACD        , JACD        , TRIM(REPLACE(JANM,'　','')) AS JANM        , HATKBN        , TAIOKBN        , TMSKB        , COUNT(*) AS CNT FROM   D20_TAIOU WHERE  1 = 1 AND    HATYMD BETWEEN :TRGDATE_FROM AND :TRGDATE_TO GROUP BY KURACD, JACD, TRIM(REPLACE(JANM,'　','')), HATKBN, TAIOKBN, TMSKB ORDER BY KURACD, JACD, HATKBN, TAIOKBN, TMSKB ) SELECT Z.KURACD        , Z.KURACD || ':' || C.CLI_NAME AS KURADISP        , Z.JACD        , Z.JACD || ':' || Z.JANM AS JADISP        , SUM(DECODE(HATKBN || TAIOKBN || TMSKB,'122',CNT,0)) AS C01        , SUM(DECODE(HATKBN || TAIOKBN || TMSKB,'112',CNT,0)) AS C02        , SUM(DECODE(HATKBN || TAIOKBN || TMSKB,'111',CNT,0)) AS C03        , SUM(DECODE(HATKBN,'1',CNT,0)) AS SUM1        , SUM(DECODE(HATKBN || TAIOKBN || TMSKB,'222',CNT,0)) AS C04        , SUM(DECODE(HATKBN || TAIOKBN || TMSKB,'212',CNT,0)) AS C05        , SUM(DECODE(HATKBN || TAIOKBN || TMSKB,'211',CNT,0)) AS C06        , SUM(DECODE(HATKBN,'2',CNT,0)) AS SUM2        , SUM(CNT) AS SUMA FROM   Z LEFT JOIN CLIMAS C ON Z.KURACD = C.CLI_CD GROUP BY Z.KURACD          , Z.JACD          , Z.JANM          , C.CLI_NAME UNION ALL SELECT Z.KURACD        , '' AS KURADISP        , '' AS JACD        , '小計' AS JADISP        , SUM(DECODE(HATKBN || TAIOKBN || TMSKB,'122',CNT,0)) AS C01        , SUM(DECODE(HATKBN || TAIOKBN || TMSKB,'112',CNT,0)) AS C02        , SUM(DECODE(HATKBN || TAIOKBN || TMSKB,'111',CNT,0)) AS C03        , SUM(DECODE(HATKBN,'1',CNT,0)) AS SUM1        , SUM(DECODE(HATKBN || TAIOKBN || TMSKB,'222',CNT,0)) AS C04        , SUM(DECODE(HATKBN || TAIOKBN || TMSKB,'212',CNT,0)) AS C05        , SUM(DECODE(HATKBN || TAIOKBN || TMSKB,'211',CNT,0)) AS C06        , SUM(DECODE(HATKBN,'2',CNT,0)) AS SUM2        , SUM(CNT) AS SUMA FROM   Z GROUP BY KURACD UNION ALL SELECT 'XYZ' AS KURACD        , '総合計' AS KURADISP        , '' AS JACD        , '' AS JADISP        , SUM(DECODE(HATKBN || TAIOKBN || TMSKB,'122',CNT,0)) AS C01        , SUM(DECODE(HATKBN || TAIOKBN || TMSKB,'112',CNT,0)) AS C02        , SUM(DECODE(HATKBN || TAIOKBN || TMSKB,'111',CNT,0)) AS C03        , SUM(DECODE(HATKBN,'1',CNT,0)) AS SUM1        , SUM(DECODE(HATKBN || TAIOKBN || TMSKB,'222',CNT,0)) AS C04        , SUM(DECODE(HATKBN || TAIOKBN || TMSKB,'212',CNT,0)) AS C05        , SUM(DECODE(HATKBN || TAIOKBN || TMSKB,'211',CNT,0)) AS C06        , SUM(DECODE(HATKBN,'2',CNT,0)) AS SUM2        , SUM(CNT) AS SUMA FROM   Z ORDER BY KURACD, JACD 
2021/10/08 20:47:56|WITH Z AS ( SELECT KURACD        , JACD        , TRIM(REPLACE(JANM,'　','')) AS JANM        , HATKBN        , TAIOKBN        , TMSKB        , COUNT(*) AS CNT FROM   D20_TAIOU WHERE  1 = 1 AND    HATYMD BETWEEN :TRGDATE_FROM AND :TRGDATE_TO GROUP BY KURACD, JACD, TRIM(REPLACE(JANM,'　','')), HATKBN, TAIOKBN, TMSKB ORDER BY KURACD, JACD, HATKBN, TAIOKBN, TMSKB ) SELECT Z.KURACD        , Z.KURACD || ':' || C.CLI_NAME AS KURADISP        , Z.JACD        , Z.JACD || ':' || Z.JANM AS JADISP        , SUM(DECODE(HATKBN || TAIOKBN || TMSKB,'122',CNT,0)) AS C01        , SUM(DECODE(HATKBN || TAIOKBN || TMSKB,'112',CNT,0)) AS C02        , SUM(DECODE(HATKBN || TAIOKBN || TMSKB,'111',CNT,0)) AS C03        , SUM(DECODE(HATKBN,'1',CNT,0)) AS SUM1        , SUM(DECODE(HATKBN || TAIOKBN || TMSKB,'222',CNT,0)) AS C04        , SUM(DECODE(HATKBN || TAIOKBN || TMSKB,'212',CNT,0)) AS C05        , SUM(DECODE(HATKBN || TAIOKBN || TMSKB,'211',CNT,0)) AS C06        , SUM(DECODE(HATKBN,'2',CNT,0)) AS SUM2        , SUM(CNT) AS SUMA FROM   Z LEFT JOIN CLIMAS C ON Z.KURACD = C.CLI_CD GROUP BY Z.KURACD          , Z.JACD          , Z.JANM          , C.CLI_NAME UNION ALL SELECT Z.KURACD        , '' AS KURADISP        , '' AS JACD        , '小計' AS JADISP        , SUM(DECODE(HATKBN || TAIOKBN || TMSKB,'122',CNT,0)) AS C01        , SUM(DECODE(HATKBN || TAIOKBN || TMSKB,'112',CNT,0)) AS C02        , SUM(DECODE(HATKBN || TAIOKBN || TMSKB,'111',CNT,0)) AS C03        , SUM(DECODE(HATKBN,'1',CNT,0)) AS SUM1        , SUM(DECODE(HATKBN || TAIOKBN || TMSKB,'222',CNT,0)) AS C04        , SUM(DECODE(HATKBN || TAIOKBN || TMSKB,'212',CNT,0)) AS C05        , SUM(DECODE(HATKBN || TAIOKBN || TMSKB,'211',CNT,0)) AS C06        , SUM(DECODE(HATKBN,'2',CNT,0)) AS SUM2        , SUM(CNT) AS SUMA FROM   Z GROUP BY KURACD UNION ALL SELECT 'XYZ' AS KURACD        , '総合計' AS KURADISP        , '' AS JACD        , '' AS JADISP        , SUM(DECODE(HATKBN || TAIOKBN || TMSKB,'122',CNT,0)) AS C01        , SUM(DECODE(HATKBN || TAIOKBN || TMSKB,'112',CNT,0)) AS C02        , SUM(DECODE(HATKBN || TAIOKBN || TMSKB,'111',CNT,0)) AS C03        , SUM(DECODE(HATKBN,'1',CNT,0)) AS SUM1        , SUM(DECODE(HATKBN || TAIOKBN || TMSKB,'222',CNT,0)) AS C04        , SUM(DECODE(HATKBN || TAIOKBN || TMSKB,'212',CNT,0)) AS C05        , SUM(DECODE(HATKBN || TAIOKBN || TMSKB,'211',CNT,0)) AS C06        , SUM(DECODE(HATKBN,'2',CNT,0)) AS SUM2        , SUM(CNT) AS SUMA FROM   Z ORDER BY KURACD, JACD 
2021/10/08 20:48:53|WITH Z AS ( SELECT KURACD        , JACD        , TRIM(REPLACE(JANM,'　','')) AS JANM        , HATKBN        , TAIOKBN        , TMSKB        , COUNT(*) AS CNT FROM   D20_TAIOU WHERE  1 = 1 AND    HATYMD BETWEEN :TRGDATE_FROM AND :TRGDATE_TO GROUP BY KURACD, JACD, TRIM(REPLACE(JANM,'　','')), HATKBN, TAIOKBN, TMSKB ORDER BY KURACD, JACD, HATKBN, TAIOKBN, TMSKB ) SELECT Z.KURACD        , Z.KURACD || ':' || C.CLI_NAME AS KURADISP        , Z.JACD        , Z.JACD || ':' || Z.JANM AS JADISP        , SUM(DECODE(HATKBN || TAIOKBN || TMSKB,'122',CNT,0)) AS C01        , SUM(DECODE(HATKBN || TAIOKBN || TMSKB,'112',CNT,0)) AS C02        , SUM(DECODE(HATKBN || TAIOKBN || TMSKB,'111',CNT,0)) AS C03        , SUM(DECODE(HATKBN,'1',CNT,0)) AS SUM1        , SUM(DECODE(HATKBN || TAIOKBN || TMSKB,'222',CNT,0)) AS C04        , SUM(DECODE(HATKBN || TAIOKBN || TMSKB,'212',CNT,0)) AS C05        , SUM(DECODE(HATKBN || TAIOKBN || TMSKB,'211',CNT,0)) AS C06        , SUM(DECODE(HATKBN,'2',CNT,0)) AS SUM2        , SUM(CNT) AS SUMA FROM   Z LEFT JOIN CLIMAS C ON Z.KURACD = C.CLI_CD GROUP BY Z.KURACD          , Z.JACD          , Z.JANM          , C.CLI_NAME UNION ALL SELECT Z.KURACD        , '' AS KURADISP        , '' AS JACD        , '小計' AS JADISP        , SUM(DECODE(HATKBN || TAIOKBN || TMSKB,'122',CNT,0)) AS C01        , SUM(DECODE(HATKBN || TAIOKBN || TMSKB,'112',CNT,0)) AS C02        , SUM(DECODE(HATKBN || TAIOKBN || TMSKB,'111',CNT,0)) AS C03        , SUM(DECODE(HATKBN,'1',CNT,0)) AS SUM1        , SUM(DECODE(HATKBN || TAIOKBN || TMSKB,'222',CNT,0)) AS C04        , SUM(DECODE(HATKBN || TAIOKBN || TMSKB,'212',CNT,0)) AS C05        , SUM(DECODE(HATKBN || TAIOKBN || TMSKB,'211',CNT,0)) AS C06        , SUM(DECODE(HATKBN,'2',CNT,0)) AS SUM2        , SUM(CNT) AS SUMA FROM   Z GROUP BY KURACD UNION ALL SELECT 'XYZ' AS KURACD        , '総合計' AS KURADISP        , '' AS JACD        , '' AS JADISP        , SUM(DECODE(HATKBN || TAIOKBN || TMSKB,'122',CNT,0)) AS C01        , SUM(DECODE(HATKBN || TAIOKBN || TMSKB,'112',CNT,0)) AS C02        , SUM(DECODE(HATKBN || TAIOKBN || TMSKB,'111',CNT,0)) AS C03        , SUM(DECODE(HATKBN,'1',CNT,0)) AS SUM1        , SUM(DECODE(HATKBN || TAIOKBN || TMSKB,'222',CNT,0)) AS C04        , SUM(DECODE(HATKBN || TAIOKBN || TMSKB,'212',CNT,0)) AS C05        , SUM(DECODE(HATKBN || TAIOKBN || TMSKB,'211',CNT,0)) AS C06        , SUM(DECODE(HATKBN,'2',CNT,0)) AS SUM2        , SUM(CNT) AS SUMA FROM   Z ORDER BY KURACD, JACD 
2021/10/08 20:49:40|WITH Z AS ( SELECT KURACD        , JACD        , TRIM(REPLACE(JANM,'　','')) AS JANM        , HATKBN        , TAIOKBN        , COUNT(*) AS CNT FROM   D20_TAIOU WHERE  1 = 1 AND    SYOYMD BETWEEN :TRGDATE_FROM AND :TRGDATE_TO AND    (TAIOKBN = :TAIOKBN1 OR TAIOKBN = :TAIOKBN2 )  AND TSADCD = :TSADCD GROUP BY KURACD, JACD, TRIM(REPLACE(JANM,'　','')), HATKBN, TAIOKBN ORDER BY KURACD, JACD, HATKBN, TAIOKBN ) SELECT Z.KURACD        , Z.KURACD || ':' || C.CLI_NAME AS KURADISP        , Z.JACD        , Z.JACD || ':' || Z.JANM AS JADISP        , SUM(DECODE(HATKBN || TAIOKBN,'12',CNT,0)) AS C01        , SUM(DECODE(HATKBN || TAIOKBN,'11',CNT,0)) AS C02        , SUM(DECODE(HATKBN,'1',CNT,0)) AS SUM1        , SUM(DECODE(HATKBN || TAIOKBN,'22',CNT,0)) AS C04        , SUM(DECODE(HATKBN || TAIOKBN,'21',CNT,0)) AS C05        , SUM(DECODE(HATKBN,'2',CNT,0)) AS SUM2        , SUM(CNT) AS SUMA FROM   Z LEFT JOIN CLIMAS C ON Z.KURACD = C.CLI_CD GROUP BY Z.KURACD          , Z.JACD          , Z.JANM          , C.CLI_NAME UNION ALL SELECT Z.KURACD        , '' AS KURADISP        , '' AS JACD        , '小計' AS JADISP        , SUM(DECODE(HATKBN || TAIOKBN,'12',CNT,0)) AS C01        , SUM(DECODE(HATKBN || TAIOKBN,'11',CNT,0)) AS C02        , SUM(DECODE(HATKBN,'1',CNT,0)) AS SUM1        , SUM(DECODE(HATKBN || TAIOKBN,'22',CNT,0)) AS C04        , SUM(DECODE(HATKBN || TAIOKBN,'21',CNT,0)) AS C05        , SUM(DECODE(HATKBN,'2',CNT,0)) AS SUM2        , SUM(CNT) AS SUMA FROM   Z GROUP BY KURACD UNION ALL SELECT 'XYZ' AS KURACD        , '総合計' AS KURADISP        , '' AS JACD        , '' AS JADISP        , SUM(DECODE(HATKBN || TAIOKBN,'12',CNT,0)) AS C01        , SUM(DECODE(HATKBN || TAIOKBN,'11',CNT,0)) AS C02        , SUM(DECODE(HATKBN,'1',CNT,0)) AS SUM1        , SUM(DECODE(HATKBN || TAIOKBN,'22',CNT,0)) AS C04        , SUM(DECODE(HATKBN || TAIOKBN,'21',CNT,0)) AS C05        , SUM(DECODE(HATKBN,'2',CNT,0)) AS SUM2        , SUM(CNT) AS SUMA FROM   Z ORDER BY KURACD, JACD 
2021/10/08 20:49:54|WITH Z AS ( SELECT KURACD        , JACD        , TRIM(REPLACE(JANM,'　','')) AS JANM        , HATKBN        , TAIOKBN        , TMSKB        , COUNT(*) AS CNT FROM   D20_TAIOU WHERE  1 = 1 AND    HATYMD BETWEEN :TRGDATE_FROM AND :TRGDATE_TO GROUP BY KURACD, JACD, TRIM(REPLACE(JANM,'　','')), HATKBN, TAIOKBN, TMSKB ORDER BY KURACD, JACD, HATKBN, TAIOKBN, TMSKB ) SELECT Z.KURACD        , Z.KURACD || ':' || C.CLI_NAME AS KURADISP        , Z.JACD        , Z.JACD || ':' || Z.JANM AS JADISP        , SUM(DECODE(HATKBN || TAIOKBN || TMSKB,'122',CNT,0)) AS C01        , SUM(DECODE(HATKBN || TAIOKBN || TMSKB,'112',CNT,0)) AS C02        , SUM(DECODE(HATKBN || TAIOKBN || TMSKB,'111',CNT,0)) AS C03        , SUM(DECODE(HATKBN,'1',CNT,0)) AS SUM1        , SUM(DECODE(HATKBN || TAIOKBN || TMSKB,'222',CNT,0)) AS C04        , SUM(DECODE(HATKBN || TAIOKBN || TMSKB,'212',CNT,0)) AS C05        , SUM(DECODE(HATKBN || TAIOKBN || TMSKB,'211',CNT,0)) AS C06        , SUM(DECODE(HATKBN,'2',CNT,0)) AS SUM2        , SUM(CNT) AS SUMA FROM   Z LEFT JOIN CLIMAS C ON Z.KURACD = C.CLI_CD GROUP BY Z.KURACD          , Z.JACD          , Z.JANM          , C.CLI_NAME UNION ALL SELECT Z.KURACD        , '' AS KURADISP        , '' AS JACD        , '小計' AS JADISP        , SUM(DECODE(HATKBN || TAIOKBN || TMSKB,'122',CNT,0)) AS C01        , SUM(DECODE(HATKBN || TAIOKBN || TMSKB,'112',CNT,0)) AS C02        , SUM(DECODE(HATKBN || TAIOKBN || TMSKB,'111',CNT,0)) AS C03        , SUM(DECODE(HATKBN,'1',CNT,0)) AS SUM1        , SUM(DECODE(HATKBN || TAIOKBN || TMSKB,'222',CNT,0)) AS C04        , SUM(DECODE(HATKBN || TAIOKBN || TMSKB,'212',CNT,0)) AS C05        , SUM(DECODE(HATKBN || TAIOKBN || TMSKB,'211',CNT,0)) AS C06        , SUM(DECODE(HATKBN,'2',CNT,0)) AS SUM2        , SUM(CNT) AS SUMA FROM   Z GROUP BY KURACD UNION ALL SELECT 'XYZ' AS KURACD        , '総合計' AS KURADISP        , '' AS JACD        , '' AS JADISP        , SUM(DECODE(HATKBN || TAIOKBN || TMSKB,'122',CNT,0)) AS C01        , SUM(DECODE(HATKBN || TAIOKBN || TMSKB,'112',CNT,0)) AS C02        , SUM(DECODE(HATKBN || TAIOKBN || TMSKB,'111',CNT,0)) AS C03        , SUM(DECODE(HATKBN,'1',CNT,0)) AS SUM1        , SUM(DECODE(HATKBN || TAIOKBN || TMSKB,'222',CNT,0)) AS C04        , SUM(DECODE(HATKBN || TAIOKBN || TMSKB,'212',CNT,0)) AS C05        , SUM(DECODE(HATKBN || TAIOKBN || TMSKB,'211',CNT,0)) AS C06        , SUM(DECODE(HATKBN,'2',CNT,0)) AS SUM2        , SUM(CNT) AS SUMA FROM   Z ORDER BY KURACD, JACD 
2021/10/08 20:53:37|WITH Z AS ( SELECT KURACD        , JACD        , TRIM(REPLACE(JANM,'　','')) AS JANM        , HATKBN        , TAIOKBN        , TMSKB        , COUNT(*) AS CNT FROM   D20_TAIOU WHERE  1 = 1 AND    HATYMD BETWEEN :TRGDATE_FROM AND :TRGDATE_TO GROUP BY KURACD, JACD, TRIM(REPLACE(JANM,'　','')), HATKBN, TAIOKBN, TMSKB ORDER BY KURACD, JACD, HATKBN, TAIOKBN, TMSKB ) SELECT Z.KURACD        , Z.KURACD || ':' || C.CLI_NAME AS KURADISP        , Z.JACD        , Z.JACD || ':' || Z.JANM AS JADISP        , SUM(DECODE(HATKBN || TAIOKBN || TMSKB,'122',CNT,0)) AS C01        , SUM(DECODE(HATKBN || TAIOKBN || TMSKB,'112',CNT,0)) AS C02        , SUM(DECODE(HATKBN || TAIOKBN || TMSKB,'111',CNT,0)) AS C03        , SUM(DECODE(HATKBN,'1',CNT,0)) AS SUM1        , SUM(DECODE(HATKBN || TAIOKBN || TMSKB,'222',CNT,0)) AS C04        , SUM(DECODE(HATKBN || TAIOKBN || TMSKB,'212',CNT,0)) AS C05        , SUM(DECODE(HATKBN || TAIOKBN || TMSKB,'211',CNT,0)) AS C06        , SUM(DECODE(HATKBN,'2',CNT,0)) AS SUM2        , SUM(CNT) AS SUMA FROM   Z LEFT JOIN CLIMAS C ON Z.KURACD = C.CLI_CD GROUP BY Z.KURACD          , Z.JACD          , Z.JANM          , C.CLI_NAME UNION ALL SELECT Z.KURACD        , '' AS KURADISP        , '' AS JACD        , '小計' AS JADISP        , SUM(DECODE(HATKBN || TAIOKBN || TMSKB,'122',CNT,0)) AS C01        , SUM(DECODE(HATKBN || TAIOKBN || TMSKB,'112',CNT,0)) AS C02        , SUM(DECODE(HATKBN || TAIOKBN || TMSKB,'111',CNT,0)) AS C03        , SUM(DECODE(HATKBN,'1',CNT,0)) AS SUM1        , SUM(DECODE(HATKBN || TAIOKBN || TMSKB,'222',CNT,0)) AS C04        , SUM(DECODE(HATKBN || TAIOKBN || TMSKB,'212',CNT,0)) AS C05        , SUM(DECODE(HATKBN || TAIOKBN || TMSKB,'211',CNT,0)) AS C06        , SUM(DECODE(HATKBN,'2',CNT,0)) AS SUM2        , SUM(CNT) AS SUMA FROM   Z GROUP BY KURACD UNION ALL SELECT 'XYZ' AS KURACD        , '総合計' AS KURADISP        , '' AS JACD        , '' AS JADISP        , SUM(DECODE(HATKBN || TAIOKBN || TMSKB,'122',CNT,0)) AS C01        , SUM(DECODE(HATKBN || TAIOKBN || TMSKB,'112',CNT,0)) AS C02        , SUM(DECODE(HATKBN || TAIOKBN || TMSKB,'111',CNT,0)) AS C03        , SUM(DECODE(HATKBN,'1',CNT,0)) AS SUM1        , SUM(DECODE(HATKBN || TAIOKBN || TMSKB,'222',CNT,0)) AS C04        , SUM(DECODE(HATKBN || TAIOKBN || TMSKB,'212',CNT,0)) AS C05        , SUM(DECODE(HATKBN || TAIOKBN || TMSKB,'211',CNT,0)) AS C06        , SUM(DECODE(HATKBN,'2',CNT,0)) AS SUM2        , SUM(CNT) AS SUMA FROM   Z ORDER BY KURACD, JACD 
2021/10/08 20:56:31|WITH Z AS ( SELECT KURACD        , JACD        , TRIM(REPLACE(JANM,'　','')) AS JANM        , HATKBN        , TAIOKBN        , COUNT(*) AS CNT FROM   D20_TAIOU WHERE  1 = 1 AND    SYOYMD BETWEEN :TRGDATE_FROM AND :TRGDATE_TO AND    (TAIOKBN = :TAIOKBN1 OR TAIOKBN = :TAIOKBN2 )  AND TSADCD = :TSADCD GROUP BY KURACD, JACD, TRIM(REPLACE(JANM,'　','')), HATKBN, TAIOKBN ORDER BY KURACD, JACD, HATKBN, TAIOKBN ) SELECT Z.KURACD        , Z.KURACD || ':' || C.CLI_NAME AS KURADISP        , Z.JACD        , Z.JACD || ':' || Z.JANM AS JADISP        , SUM(DECODE(HATKBN || TAIOKBN,'12',CNT,0)) AS C01        , SUM(DECODE(HATKBN || TAIOKBN,'11',CNT,0)) AS C02        , SUM(DECODE(HATKBN,'1',CNT,0)) AS SUM1        , SUM(DECODE(HATKBN || TAIOKBN,'22',CNT,0)) AS C04        , SUM(DECODE(HATKBN || TAIOKBN,'21',CNT,0)) AS C05        , SUM(DECODE(HATKBN,'2',CNT,0)) AS SUM2        , SUM(CNT) AS SUMA FROM   Z LEFT JOIN CLIMAS C ON Z.KURACD = C.CLI_CD GROUP BY Z.KURACD          , Z.JACD          , Z.JANM          , C.CLI_NAME UNION ALL SELECT Z.KURACD        , '' AS KURADISP        , '' AS JACD        , '小計' AS JADISP        , SUM(DECODE(HATKBN || TAIOKBN,'12',CNT,0)) AS C01        , SUM(DECODE(HATKBN || TAIOKBN,'11',CNT,0)) AS C02        , SUM(DECODE(HATKBN,'1',CNT,0)) AS SUM1        , SUM(DECODE(HATKBN || TAIOKBN,'22',CNT,0)) AS C04        , SUM(DECODE(HATKBN || TAIOKBN,'21',CNT,0)) AS C05        , SUM(DECODE(HATKBN,'2',CNT,0)) AS SUM2        , SUM(CNT) AS SUMA FROM   Z GROUP BY KURACD UNION ALL SELECT 'XYZ' AS KURACD        , '総合計' AS KURADISP        , '' AS JACD        , '' AS JADISP        , SUM(DECODE(HATKBN || TAIOKBN,'12',CNT,0)) AS C01        , SUM(DECODE(HATKBN || TAIOKBN,'11',CNT,0)) AS C02        , SUM(DECODE(HATKBN,'1',CNT,0)) AS SUM1        , SUM(DECODE(HATKBN || TAIOKBN,'22',CNT,0)) AS C04        , SUM(DECODE(HATKBN || TAIOKBN,'21',CNT,0)) AS C05        , SUM(DECODE(HATKBN,'2',CNT,0)) AS SUM2        , SUM(CNT) AS SUMA FROM   Z ORDER BY KURACD, JACD 
2021/10/08 20:56:42|WITH Z AS ( SELECT KURACD        , JACD        , TRIM(REPLACE(JANM,'　','')) AS JANM        , HATKBN        , TAIOKBN        , TMSKB        , COUNT(*) AS CNT FROM   D20_TAIOU WHERE  1 = 1 AND    HATYMD BETWEEN :TRGDATE_FROM AND :TRGDATE_TO AND    TMSKB IN ('1','2') GROUP BY KURACD, JACD, TRIM(REPLACE(JANM,'　','')), HATKBN, TAIOKBN, TMSKB ORDER BY KURACD, JACD, HATKBN, TAIOKBN, TMSKB ) SELECT Z.KURACD        , Z.KURACD || ':' || C.CLI_NAME AS KURADISP        , Z.JACD        , Z.JACD || ':' || Z.JANM AS JADISP        , SUM(DECODE(HATKBN || TAIOKBN || TMSKB,'122',CNT,0)) AS C01        , SUM(DECODE(HATKBN || TAIOKBN || TMSKB,'112',CNT,0)) AS C02        , SUM(DECODE(HATKBN || TAIOKBN || TMSKB,'111',CNT,0)) AS C03        , SUM(DECODE(HATKBN,'1',CNT,0)) AS SUM1        , SUM(DECODE(HATKBN || TAIOKBN || TMSKB,'222',CNT,0)) AS C04        , SUM(DECODE(HATKBN || TAIOKBN || TMSKB,'212',CNT,0)) AS C05        , SUM(DECODE(HATKBN || TAIOKBN || TMSKB,'211',CNT,0)) AS C06        , SUM(DECODE(HATKBN,'2',CNT,0)) AS SUM2        , SUM(CNT) AS SUMA FROM   Z LEFT JOIN CLIMAS C ON Z.KURACD = C.CLI_CD GROUP BY Z.KURACD          , Z.JACD          , Z.JANM          , C.CLI_NAME UNION ALL SELECT Z.KURACD        , '' AS KURADISP        , '' AS JACD        , '小計' AS JADISP        , SUM(DECODE(HATKBN || TAIOKBN || TMSKB,'122',CNT,0)) AS C01        , SUM(DECODE(HATKBN || TAIOKBN || TMSKB,'112',CNT,0)) AS C02        , SUM(DECODE(HATKBN || TAIOKBN || TMSKB,'111',CNT,0)) AS C03        , SUM(DECODE(HATKBN,'1',CNT,0)) AS SUM1        , SUM(DECODE(HATKBN || TAIOKBN || TMSKB,'222',CNT,0)) AS C04        , SUM(DECODE(HATKBN || TAIOKBN || TMSKB,'212',CNT,0)) AS C05        , SUM(DECODE(HATKBN || TAIOKBN || TMSKB,'211',CNT,0)) AS C06        , SUM(DECODE(HATKBN,'2',CNT,0)) AS SUM2        , SUM(CNT) AS SUMA FROM   Z GROUP BY KURACD UNION ALL SELECT 'XYZ' AS KURACD        , '総合計' AS KURADISP        , '' AS JACD        , '' AS JADISP        , SUM(DECODE(HATKBN || TAIOKBN || TMSKB,'122',CNT,0)) AS C01        , SUM(DECODE(HATKBN || TAIOKBN || TMSKB,'112',CNT,0)) AS C02        , SUM(DECODE(HATKBN || TAIOKBN || TMSKB,'111',CNT,0)) AS C03        , SUM(DECODE(HATKBN,'1',CNT,0)) AS SUM1        , SUM(DECODE(HATKBN || TAIOKBN || TMSKB,'222',CNT,0)) AS C04        , SUM(DECODE(HATKBN || TAIOKBN || TMSKB,'212',CNT,0)) AS C05        , SUM(DECODE(HATKBN || TAIOKBN || TMSKB,'211',CNT,0)) AS C06        , SUM(DECODE(HATKBN,'2',CNT,0)) AS SUM2        , SUM(CNT) AS SUMA FROM   Z ORDER BY KURACD, JACD 
2021/10/08 21:03:39|WITH Z AS ( SELECT KURACD        , JACD        , TRIM(REPLACE(JANM,'　','')) AS JANM        , HATKBN        , TAIOKBN        , TMSKB        , COUNT(*) AS CNT FROM   D20_TAIOU WHERE  1 = 1 AND    HATYMD BETWEEN :TRGDATE_FROM AND :TRGDATE_TO AND    (TAIOKBN = :TAIOKBN1 OR TAIOKBN = :TAIOKBN2 )  AND TSADCD = :TSADCD AND    TMSKB IN ('1','2') GROUP BY KURACD, JACD, TRIM(REPLACE(JANM,'　','')), HATKBN, TAIOKBN, TMSKB ORDER BY KURACD, JACD, HATKBN, TAIOKBN, TMSKB ) SELECT Z.KURACD        , Z.KURACD || ':' || C.CLI_NAME AS KURADISP        , Z.JACD        , Z.JACD || ':' || Z.JANM AS JADISP        , SUM(DECODE(HATKBN || TAIOKBN || TMSKB,'122',CNT,0)) AS C01        , SUM(DECODE(HATKBN || TAIOKBN || TMSKB,'112',CNT,0)) AS C02        , SUM(DECODE(HATKBN || TAIOKBN || TMSKB,'111',CNT,0)) AS C03        , SUM(DECODE(HATKBN,'1',CNT,0)) AS SUM1        , SUM(DECODE(HATKBN || TAIOKBN || TMSKB,'222',CNT,0)) AS C04        , SUM(DECODE(HATKBN || TAIOKBN || TMSKB,'212',CNT,0)) AS C05        , SUM(DECODE(HATKBN || TAIOKBN || TMSKB,'211',CNT,0)) AS C06        , SUM(DECODE(HATKBN,'2',CNT,0)) AS SUM2        , SUM(CNT) AS SUMA FROM   Z LEFT JOIN CLIMAS C ON Z.KURACD = C.CLI_CD GROUP BY Z.KURACD          , Z.JACD          , Z.JANM          , C.CLI_NAME UNION ALL SELECT Z.KURACD        , '' AS KURADISP        , '' AS JACD        , '小計' AS JADISP        , SUM(DECODE(HATKBN || TAIOKBN || TMSKB,'122',CNT,0)) AS C01        , SUM(DECODE(HATKBN || TAIOKBN || TMSKB,'112',CNT,0)) AS C02        , SUM(DECODE(HATKBN || TAIOKBN || TMSKB,'111',CNT,0)) AS C03        , SUM(DECODE(HATKBN,'1',CNT,0)) AS SUM1        , SUM(DECODE(HATKBN || TAIOKBN || TMSKB,'222',CNT,0)) AS C04        , SUM(DECODE(HATKBN || TAIOKBN || TMSKB,'212',CNT,0)) AS C05        , SUM(DECODE(HATKBN || TAIOKBN || TMSKB,'211',CNT,0)) AS C06        , SUM(DECODE(HATKBN,'2',CNT,0)) AS SUM2        , SUM(CNT) AS SUMA FROM   Z GROUP BY KURACD UNION ALL SELECT 'XYZ' AS KURACD        , '総合計' AS KURADISP        , '' AS JACD        , '' AS JADISP        , SUM(DECODE(HATKBN || TAIOKBN || TMSKB,'122',CNT,0)) AS C01        , SUM(DECODE(HATKBN || TAIOKBN || TMSKB,'112',CNT,0)) AS C02        , SUM(DECODE(HATKBN || TAIOKBN || TMSKB,'111',CNT,0)) AS C03        , SUM(DECODE(HATKBN,'1',CNT,0)) AS SUM1        , SUM(DECODE(HATKBN || TAIOKBN || TMSKB,'222',CNT,0)) AS C04        , SUM(DECODE(HATKBN || TAIOKBN || TMSKB,'212',CNT,0)) AS C05        , SUM(DECODE(HATKBN || TAIOKBN || TMSKB,'211',CNT,0)) AS C06        , SUM(DECODE(HATKBN,'2',CNT,0)) AS SUM2        , SUM(CNT) AS SUMA FROM   Z ORDER BY KURACD, JACD 
